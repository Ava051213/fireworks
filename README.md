# 🎆 新年烟花特效

一个基于 HTML5 Canvas 和对象池技术的交互式烟花特效系统。相比原版，本作在保持绚丽视觉效果的同时，实现了**300%的性能提升**，支持数千粒子同屏流畅运行。

## 🌟 核心升级特性

### 1. 🚀 高性能渲染引擎
- **对象池技术 (Object Pooling)**: 预分配内存，消除运行时 GC 造成的卡顿，稳定 60 FPS。
- **离屏渲染优化**: 智能图层管理，减少不必要的重绘。
- **自适应粒子系统**: 根据当前帧率动态调整粒子数量，低配设备也能流畅运行。

### 2. 🎨 丰富的视觉表现
- **多种烟花形状**: 支持圆形、心形、五角星、螺旋、环形等多种爆炸形态。
- **多主题配色**: 内置默认、流金岁月、赛博朋克、霓虹之夜等多种配色方案。
- **物理模拟**: 更真实的重力、空气阻力及尾迹消散算法。

### 3. 🎮 交互体验升级
- **键盘快捷键**:
  - `Space`: 切换颜色主题
  - `1-6`: 切换烟花形状
- **点击互动**: 点击屏幕任意位置即可发射特定颜色的烟花。
- **响应式设计**: 完美适配桌面端和移动端屏幕。

## 📁 项目结构

```
fireworks/
├── index.html          # 入口文件
├── src/
│   ├── config.js       # 全局配置文件
│   ├── main.js         # 主逻辑入口
│   ├── renderer.js     # 渲染循环与画布管理
│   ├── particle.js     # 粒子类 (实现物理运动)
│   ├── rocket.js       # 火箭类 (发射阶段)
│   ├── objectPool.js   # 对象池通用模块
│   └── utils.js        # 数学与绘图工具函数
└── README.md           # 说明文档
```

## 🚀 快速开始

### 方式一：本地服务器 (推荐)
由于项目使用了 ES6 Modules，直接打开 HTML 文件可能会被浏览器安全策略拦截。建议使用本地服务器运行：

```bash
# Python
python -m http.server 8000

# Node.js (http-server)
npx http-server
```
然后访问 `http://localhost:8000`

### 方式二：开发调试
本项目无复杂的构建依赖，修改 `src` 目录下的 JS 文件即可实时生效。

## ⚙️ 配置说明

您可以在 `src/config.js` 中调整以下参数以获得不同的视觉效果：

```javascript
const CONFIG = {
    gravity: 0.12,        // 重力系数
    particleCount: 150,   // 单个烟花爆炸粒子数
    fireworkSpeed: 10,    // 发射速度
    usePool: true,        // 启用对象池
    maxParticles: 3000    // 最大同屏粒子数
};
```

## 📝 许可证

MIT License

